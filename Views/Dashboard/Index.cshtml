
@{
    ViewData["isDashboard"] = true;
}

<div class ="row mb-4 justify-content-end">
    <div class="col-md-3">
        <ejs-dropdownlist 
            id="options"
            dataSource="@ViewBag.Options"
            change="onOptionChange" placeholder="@ViewBag.SelectedOption">
            
        </ejs-dropdownlist>
    </div>
</div>


<div class="row mb-4">
    <div class="col-md-4">
        <div class="d-flex flex-row widget summary income">
            <div class="d-flex flex-column justify-content-center p-5">
                <i class="fa-solid fa-dollar-sign fa-2xl"></i>
            </div>
            <div class="d-flex flex-column m-auto py-3">
                <span class="lead">Total Income</span>
                <h1 class="display-6 fw-bold">@ViewBag.TotalIncome</h1>
            </div>
        </div>
    </div>


    <div class="col-md-4">
        <div class="d-flex flex-row widget summary expense">
            <div class="d-flex flex-column justify-content-center p-5">
                <i class="fa-solid fa-dollar-sign fa-2xl"></i>
            </div>
            <div class="d-flex flex-column m-auto py-3">
                <span class="lead">Total Expense</span>
                <h1 class="display-6 fw-bold">@ViewBag.TotalExpense</h1>
            </div>
        </div>
    </div>


    <div class="col-md-4">
        <div class="d-flex flex-row widget summary balance">
            <div class="d-flex flex-column justify-content-center p-5">
                <i class="fa-solid fa-dollar-sign fa-2xl"></i>
            </div>
            <div class="d-flex flex-column m-auto py-3">
                <span class="lead">Balance</span>
                <h1 class="display-6 fw-bold">@ViewBag.Balance</h1>
            </div>
        </div>
    </div>
</div>


<script>
    function onOptionChange(args) {
        // Redirige al controlador pasando el valor como query string
        var selectedValue = args.value;
        window.location.href = '/Dashboard/Index?option=' + selectedValue;
        ViewBag.SelectedOption = args.value;
    }
</script>